!function(){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var p in t=arguments[o])Object.prototype.hasOwnProperty.call(t,p)&&(e[p]=t[p]);return e}).apply(this,arguments)};function d(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),p=0;for(t=0;t<o;t++)for(var r=arguments[t],i=0,a=r.length;i<a;i++,p++)n[p]=r[i];return n}function b(r,e){var n,p,i=(n={current:0,next:function(){return++this.current}},p={},{add:function(e,t){var o=null!=t?t:n.next();return p[o]=e,o},resolve:function(e,t,o){var n=p[e];n&&(o(t)?n.resolve(t):n.reject(t),p[e]=null)}});return e(function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,o=t.request_id,n=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(n=Object.getOwnPropertySymbols(e);p<n.length;p++)t.indexOf(n[p])<0&&Object.prototype.propertyIsEnumerable.call(e,n[p])&&(o[n[p]]=e[n[p]])}return o}(t,["request_id"]);o&&i.resolve(o,n,function(e){return!("error_type"in e)})}}),function(n,p){return void 0===p&&(p={}),new Promise(function(e,t){var o=i.add({resolve:e,reject:t},p.request_id);r(n,a(a({},p),{request_id:o}))})}}var e="undefined"!=typeof window,u=Boolean(e&&window.AndroidBridge),A=Boolean(e&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),l=Boolean(e&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),c=e&&!u&&!A,t=c&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),W=c?"message":"VKWebAppEvent",f=d(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop"],c&&!t?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox"]:["VKWebAppShowImages"]),w=e?window.AndroidBridge:void 0,V=A?window.webkit.messageHandlers:void 0,K=c?parent:void 0;var o,n,p,r,i,s,v,S,m,h;(n=o=o||{}).REWARD="reward",n.INTERSTITIAL="interstitial",(r=p=p||{}).CAMERA="camera",r.LOCATION="location",r.PHOTO="photo",(s=i=i||{}).RU="ru",s.UK="uk",s.UA="ua",s.EN="en",s.BE="be",s.KZ="kz",s.PT="pt",s.ES="es",(S=v=v||{}).ADMIN="admin",S.EDITOR="editor",S.MEMBER="member",S.MODER="moder",S.NONE="none",(h=m=m||{}).DESKTOP_WEB="desktop_web",h.MOBILE_WEB="mobile_web",h.MOBILE_ANDROID="mobile_android",h.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",h.MOBILE_IPHONE="mobile_iphone",h.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",h.MOBILE_IPAD="mobile_ipad";var y=function(o){var r=void 0,i=[];function e(e){i.push(e)}function t(){return A||u}function n(){return c&&window.parent!==window}function p(){return t()||n()}function a(t){if(A||u)return d(i).map(function(e){return e.call(null,t)});var e=null==t?void 0:t.data;if(c&&e){if(l&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}var o=e.type,n=e.data,p=e.frameId;o&&("SetSupportedHandlers"!==o?"VKWebAppSettings"!==o?d(i).map(function(e){return e({detail:{type:o,data:n}})}):r=p:n.supportedHandlers)}}l&&/(android)/i.test(navigator.userAgent)?document.addEventListener(W,a):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(W,a);var s=b(function(e,t){w&&w[e]?w[e](JSON.stringify(t)):V&&V[e]&&"function"==typeof V[e].postMessage?V[e].postMessage(t):l?window.ReactNativeWebView.postMessage(JSON.stringify({handler:e,params:t})):K&&"function"==typeof K.postMessage&&K.postMessage({handler:e,params:t,type:"vk-connect",webFrameId:r,connectVersion:o},"*")},e);return{send:s,sendPromise:s,subscribe:e,unsubscribe:function(e){var t=i.indexOf(e);-1<t&&i.splice(t,1)},supports:function(e){return u?!(!w||"function"!=typeof w[e]):A?!(!V||!V[e]||"function"!=typeof V[e].postMessage):c&&-1<f.indexOf(e)},isWebView:t,isIframe:n,isEmbedded:p,isStandalone:function(){return!p()}}}("2.7.2");window.vkBridge=window.vkConnect=y}();
//# sourceMappingURL=browser.min.js.map
